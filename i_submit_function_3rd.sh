#!/bin/sh

# Script to take list of subject names and performs 
# first level processing on Target Task files


### Select the proper version of matlab

source /usr/local/apps/psycapps/config/matlab_bash

cd /MRIWork/MRIWork06/nr/matthew_danvers/camCAN/full_run/cluster_access

# Make sure to change this according to your account and that this folder exists
OUTPUT_LOG_DIR=$(pwd)/log_1stlvl_fourier
mkdir -p $OUTPUT_LOG_DIR

script_folder=$(pwd)

for subject_number in CC420137 CC420143 CC420148 CC420149 CC420157 CC420162 CC420167 CC420173 CC420182 CC420197 CC420198 CC420202 CC420204 CC420217 CC420222 CC420226 CC420229 CC420231 CC420236 CC420259 CC420261 CC420322 CC420348 CC420356 CC420383 CC420392 CC420396 CC420402 CC420412 CC420433 CC420435 CC420454 CC420462 CC420464 CC420493 CC420566 CC420582 CC420587 CC420589 CC420623 CC420720 CC420729 CC420776 CC420888 CC510015 CC510039 CC510050 CC510076 CC510115 CC510161 CC510163 CC510208 CC510226 CC510242 CC510243 CC510255 CC510256 CC510258 CC510259 CC510284 CC510304 CC510321 CC510323 CC510329 CC510342 CC510354 CC510355 CC510392 CC510393 CC510395 CC510415 CC510433 CC510434 CC510438 CC510473 CC510474 CC510480 CC510483 CC510486 CC510534 CC510548 CC510551 CC510609 CC510629 CC510639 CC510648 CC512003 CC520002 CC520011 CC520013 CC520042 CC520053 CC520055 CC520065 CC520097 CC520122 CC520127 CC520134 CC520136 CC520147 CC520175 CC520197 CC520200 CC520209 CC520211 CC520215 CC520239 CC520247 CC520253 CC520254 CC520287 CC520377 CC520390 CC520391 CC520395 CC520398 CC520424 CC520477 CC520480 CC520503 CC520517 CC520552 CC520560 CC520584 CC520585 CC520597 CC520607 CC520624 CC520673 CC520745 CC520775 CC521040 CC610022 CC610028 CC610040 CC610050 CC610051 CC610052 CC610058 CC610061
do
    echo "Processing Subject $subject_number"
    qsub    -l h_rss=4G \
            -o ${OUTPUT_LOG_DIR}/matlab_${subject_number}.out \
            -e ${OUTPUT_LOG_DIR}/matlab_${subject_number}.err \
            $script_folder/i_call_function.sh $subject_number;       
done
